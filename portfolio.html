<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portfolio — Annick Bouvattier</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#02253A;
      --ink:#fff;
      --ink-soft:rgba(255,255,255,.82);
      --ink-faint:rgba(255,255,255,.55);
      --border:rgba(255,255,255,.18);
      --chip:rgba(255,255,255,.08);
      --chip2:rgba(255,255,255,.12);
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg);
      color:var(--ink);
    }
    a{ color:inherit; text-decoration:none; }

    .page{ min-height:100vh; }
    .container{
      width:100%;
      max-width:1400px;
      margin:0 auto;
      padding:20px 48px 56px;
    }
    @media (max-width:768px){
      .container{ padding:16px 20px 40px; }
    }

    /* HEADER */
    .top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:24px;
      padding:18px 0;
    }
    .brand{
      font-size:18px;
      font-weight:800;
      letter-spacing:.08em;
      text-transform:uppercase;
      line-height:1;
      padding-bottom:6px;
      white-space:nowrap;
    }
    .top__nav{
      display:flex;
      align-items:center;
      gap:20px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .nav__link{
      font-size:16px;
      font-weight:500;
      border-bottom:2px solid transparent;
      padding:6px 2px 4px;
      line-height:1;
      color:var(--ink);
    }
    .nav__link:hover{ border-bottom-color:rgba(255,255,255,.5); }
    .nav__link.is-active{ border-bottom-color:#fff; }

    /* FILTER BAR */
    .filters{
      position: sticky;
      top: 0;
      z-index: 10;
      background: color-mix(in srgb, var(--bg) 92%, black 8%);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 12px;
      display:grid;
      grid-template-columns: 1.4fr 1fr 1fr 1fr 1fr auto;
      gap: 10px;
      align-items: end;
      backdrop-filter: blur(8px);
    }
    @media (max-width: 1050px){
      .filters{ grid-template-columns: 1fr 1fr 1fr; }
    }
    @media (max-width: 680px){
      .filters{ grid-template-columns: 1fr; }
    }

    .field{ display:flex; flex-direction:column; gap:6px; min-width:0; }
    .label{
      font-size:12px;
      color:var(--ink-faint);
      letter-spacing:.06em;
      text-transform:uppercase;
    }
    input, select{
      width:100%;
      height:44px;
      border:1px solid var(--border);
      background:var(--chip);
      color:var(--ink);
      border-radius:12px;
      padding:10px 12px;
      outline:none;
      font-size:14px;
    }
    input::placeholder{ color:rgba(255,255,255,.45); }
    input:focus, select:focus{
      border-color:rgba(255,255,255,.35);
      background:var(--chip2);
    }

    .btn{
      height:44px;
      padding:0 14px;
      border-radius:12px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.14);
      color:var(--ink);
      font-weight:700;
      cursor:pointer;
      white-space:nowrap;
    }
    .btn:hover{ background:rgba(255,255,255,.18); }

    /* Title row */
    .metaRow{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:16px;
      margin: 18px 2px 10px;
    }
    .title{
      margin:0;
      font-size:22px;
      font-weight:800;
      letter-spacing:-.01em;
    }
    .count{
      color:var(--ink-faint);
      font-size:14px;
    }

    /* GRID */
    .grid{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 14px;
      margin-top: 10px;
    }
    @media (max-width: 1200px){ .grid{ grid-template-columns: repeat(3, 1fr); } }
    @media (max-width: 900px){ .grid{ grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 520px){ .grid{ grid-template-columns: 1fr; } }

    .card{
      border:1px solid var(--border);
      border-radius:16px;
      overflow:hidden;
      background:rgba(255,255,255,.04);
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      cursor: pointer;
    }
    .card:hover{
      transform: translateY(-2px);
      background:rgba(255,255,255,.06);
      border-color:rgba(255,255,255,.26);
    }
    .thumb{
      aspect-ratio: 4 / 5;
      width:100%;
      display:block;
      object-fit:cover;
      background:rgba(255,255,255,.06);
    }
    .info{
      padding: 10px 12px 12px;
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .name{
      font-weight:800;
      letter-spacing:.02em;
      font-size:14px;
      margin:0;
    }
    .sub{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      color:var(--ink-faint);
      font-size:13px;
      margin:0;
    }
    .chips{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-top:4px;
    }
    .chip{
      font-size:12px;
      padding:6px 8px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      color:var(--ink-soft);
    }
    .chip.sold{
      background: rgba(255,255,255,.10);
      color: rgba(255,255,255,.90);
    }

    /* MODAL */
    dialog{
      border:none;
      padding:0;
      border-radius:16px;
      max-width:min(980px, 92vw);
      background:rgba(10,20,30,.95);
      color:var(--ink);
    }
    dialog::backdrop{ background:rgba(0,0,0,.6); }
    .modal{
      display:grid;
      grid-template-columns: 1.4fr 1fr;
      gap:0;
    }
    @media (max-width: 900px){ .modal{ grid-template-columns:1fr; } }
    .modal__img{
      width:100%;
      height:100%;
      object-fit:cover;
      max-height:82vh;
      display:block;
      background:rgba(255,255,255,.06);
    }
    .modal__side{
      padding:16px 16px 18px;
      border-left:1px solid rgba(255,255,255,.12);
    }
    @media (max-width: 900px){
      .modal__side{ border-left:none; border-top:1px solid rgba(255,255,255,.12); }
    }
    .modal__h{
      margin:0 0 10px;
      font-size:18px;
      font-weight:800;
    }
    .modal__p{
      margin:0 0 10px;
      color:var(--ink-soft);
      line-height:1.5;
      font-size:14px
    }
    .modal__close{
      margin-top:10px;
      width:100%;
    }
  </style>
</head>

<body>
  <div class="page">
    <div class="container">

      <header class="top">
        <div class="top__left">
          <a href="index.html" class="brand" aria-label="Accueil">ANNICK&nbsp;BOUVATTIER</a>
        </div>

        <nav class="top__nav" aria-label="Navigation principale">
          <a class="nav__link" href="index.html">Accueil</a>
          <a class="nav__link is-active" href="portfolio.html">Portfolio</a>
          <a class="nav__link" href="galeries.html">Galeries</a>
          <a class="nav__link" href="expositions.html">Expositions</a>
          <a class="nav__link" href="informations.html">Informations</a>
          <a class="nav__link" href="apropos.html">À propos</a>
          <a class="nav__link" href="presse.html">Presse</a>
        </nav>
      </header>

      <section class="filters" aria-label="Filtres portfolio">
        <div class="field">
          <div class="label">Rechercher</div>
          <input id="q" type="search" placeholder="Titre, technique, taille…" />
        </div>

        <div class="field">
          <div class="label">Statut</div>
          <select id="status">
            <option value="all">Tous</option>
            <option value="available">Disponible</option>
            <option value="sold">Vendu</option>
          </select>
        </div>

        <div class="field">
          <div class="label">Technique</div>
          <select id="technique">
            <option value="all">Toutes</option>
          </select>
        </div>

        <div class="field">
          <div class="label">Année</div>
          <select id="year">
            <option value="all">Toutes</option>
          </select>
        </div>

        <div class="field">
          <div class="label">Tri</div>
          <select id="sort">
            <option value="newest">Plus récent</option>
            <option value="oldest">Plus ancien</option>
            <option value="title">Titre (A→Z)</option>
          </select>
        </div>

        <button class="btn" id="reset" type="button">Réinitialiser</button>
      </section>

      <div class="metaRow">
        <h1 class="title">Portfolio</h1>
        <div class="count" id="count"></div>
      </div>

      <section class="grid" id="grid" aria-label="Œuvres portfolio"></section>
    </div>
  </div>

  <dialog id="modal">
    <div class="modal">
      <img class="modal__img" id="modalImg" alt="">
      <div class="modal__side">
        <h2 class="modal__h" id="modalTitle"></h2>
        <p class="modal__p" id="modalMeta"></p>
        <p class="modal__p" id="modalDesc"></p>
        <button class="btn modal__close" id="modalClose" type="button">Fermer</button>
      </div>
    </div>
  </dialog>

  <script>
    // Portfolio = sélection (tu changes ici)
    const artworks = [
      {
        title: "Sans titre I",
        year: 2024,
        technique: "Huile au couteau",
        size: "80×60 cm",
        status: "available",
        image: "https://images.unsplash.com/photo-1541961017774-22349e4a1262?auto=format&fit=crop&w=1200&q=80",
        desc: "Description courte de l’œuvre (optionnel)."
      },
      {
        title: "Étude de peau",
        year: 2025,
        technique: "Huile au pinceau",
        size: "90×70 cm",
        status: "available",
        image: "https://images.unsplash.com/photo-1513364776144-60967b0f800f?auto=format&fit=crop&w=1200&q=80",
        desc: "Transparences et velouté."
      },
      {
        title: "Lumière douce",
        year: 2023,
        technique: "Huile au couteau",
        size: "70×50 cm",
        status: "sold",
        image: "https://images.unsplash.com/photo-1526318472351-c75fcf070305?auto=format&fit=crop&w=1200&q=80",
        desc: "Jeu de matière et contraste."
      }
    ];

    const els = {
      q: document.getElementById("q"),
      status: document.getElementById("status"),
      technique: document.getElementById("technique"),
      year: document.getElementById("year"),
      sort: document.getElementById("sort"),
      reset: document.getElementById("reset"),
      grid: document.getElementById("grid"),
      count: document.getElementById("count"),
      modal: document.getElementById("modal"),
      modalImg: document.getElementById("modalImg"),
      modalTitle: document.getElementById("modalTitle"),
      modalMeta: document.getElementById("modalMeta"),
      modalDesc: document.getElementById("modalDesc"),
      modalClose: document.getElementById("modalClose"),
    };

    function uniq(arr){ return [...new Set(arr)].sort((a,b)=> (""+a).localeCompare(""+b)); }

    function hydrateFilters(){
      const techniques = uniq(artworks.map(a=>a.technique));
      const years = uniq(artworks.map(a=>a.year)).sort((a,b)=>b-a);

      techniques.forEach(t=>{
        const opt = document.createElement("option");
        opt.value = t;
        opt.textContent = t;
        els.technique.appendChild(opt);
      });

      years.forEach(y=>{
        const opt = document.createElement("option");
        opt.value = String(y);
        opt.textContent = String(y);
        els.year.appendChild(opt);
      });
    }

    function match(a, filters){
      const q = filters.q.trim().toLowerCase();
      const hay = `${a.title} ${a.technique} ${a.size} ${a.year}`.toLowerCase();
      if (q && !hay.includes(q)) return false;

      if (filters.status !== "all" && a.status !== filters.status) return false;
      if (filters.technique !== "all" && a.technique !== filters.technique) return false;
      if (filters.year !== "all" && String(a.year) !== filters.year) return false;

      return true;
    }

    function sortList(list, mode){
      const copy = [...list];
      if (mode === "newest") copy.sort((a,b)=> b.year - a.year || a.title.localeCompare(b.title));
      if (mode === "oldest") copy.sort((a,b)=> a.year - b.year || a.title.localeCompare(b.title));
      if (mode === "title")  copy.sort((a,b)=> a.title.localeCompare(b.title));
      return copy;
    }

    function render(){
      const filters = {
        q: els.q.value || "",
        status: els.status.value,
        technique: els.technique.value,
        year: els.year.value,
        sort: els.sort.value
      };

      let list = artworks.filter(a => match(a, filters));
      list = sortList(list, filters.sort);

      els.grid.innerHTML = "";
      list.forEach(a=>{
        const card = document.createElement("article");
        card.className = "card";
        card.innerHTML = `
          <img class="thumb" src="${a.image}" alt="${escapeHtml(a.title)}" loading="lazy">
          <div class="info">
            <p class="name">${escapeHtml(a.title)}</p>
            <p class="sub">${escapeHtml(a.technique)} · ${escapeHtml(a.size)} · ${a.year}</p>
            <div class="chips">
              <span class="chip ${a.status === "sold" ? "sold" : ""}">
                ${a.status === "sold" ? "Vendu" : "Disponible"}
              </span>
            </div>
          </div>
        `;
        card.addEventListener("click", () => openModal(a));
        els.grid.appendChild(card);
      });

      els.count.textContent = `${list.length} œuvre${list.length>1 ? "s" : ""}`;
    }

    function openModal(a){
      els.modalImg.src = a.image.replace("w=1200","w=2000");
      els.modalImg.alt = a.title;
      els.modalTitle.textContent = a.title;
      els.modalMeta.textContent = `${a.technique} · ${a.size} · ${a.year} · ${a.status === "sold" ? "Vendu" : "Disponible"}`;
      els.modalDesc.textContent = a.desc || "";
      els.modal.showModal();
    }

    function closeModal(){ els.modal.close(); }

    function escapeHtml(s){
      return String(s)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    ["input","change"].forEach(evt=>{
      els.q.addEventListener(evt, render);
      els.status.addEventListener(evt, render);
      els.technique.addEventListener(evt, render);
      els.year.addEventListener(evt, render);
      els.sort.addEventListener(evt, render);
    });

    els.reset.addEventListener("click", ()=>{
      els.q.value = "";
      els.status.value = "all";
      els.technique.value = "all";
      els.year.value = "all";
      els.sort.value = "newest";
      render();
    });

    els.modalClose.addEventListener("click", closeModal);
    els.modal.addEventListener("click", (e)=>{ if(e.target === els.modal) closeModal(); });
    document.addEventListener("keydown", (e)=>{ if(e.key === "Escape" && els.modal.open) closeModal(); });

    hydrateFilters();
    render();
  </script>
</body>
</html>
